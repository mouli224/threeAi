<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ThreeAI - Quick Test</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }
        
        .container {
            text-align: center;
            max-width: 800px;
            padding: 2rem;
        }
        
        h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }
        
        .subtitle {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }
        
        .demo-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 2rem;
            margin: 2rem 0;
            backdrop-filter: blur(10px);
        }
        
        input {
            width: 100%;
            max-width: 400px;
            padding: 1rem;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            margin-bottom: 1rem;
            text-align: center;
        }
        
        button {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        button:hover {
            background: #ff5252;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }
        
        .viewer {
            width: 100%;
            height: 300px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            margin-top: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .status {
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 10px;
            background: rgba(255, 255, 255, 0.1);
        }
        
        .main-app-link {
            margin-top: 2rem;
        }
        
        .main-app-link a {
            color: #ffd700;
            text-decoration: none;
            font-weight: bold;
            border: 2px solid #ffd700;
            padding: 1rem 2rem;
            border-radius: 25px;
            transition: all 0.3s ease;
        }
        
        .main-app-link a:hover {
            background: #ffd700;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚ú® ThreeAI 3D Creator</h1>
        <p class="subtitle">Transform your words into stunning 3D scenes</p>
        
        <div class="demo-container">
            <h3>üöÄ Quick Test</h3>
            <input type="text" id="prompt" placeholder="Enter a description (e.g., 'red cube')" value="red cube">
            <br>
            <button onclick="testGeneration()">Generate 3D Scene</button>
            
            <div class="viewer" id="viewer">
                <div>Your 3D scene will appear here</div>
            </div>
            
            <div class="status" id="status">
                Ready to generate your first 3D scene!
            </div>
        </div>
        
        <div class="main-app-link">
            <a href="index.html">üé® Open Full Application</a>
        </div>
        
        <div style="margin-top: 2rem; opacity: 0.7; font-size: 0.9rem;">
            <p>‚úÖ THREE.js Integration</p>
            <p>‚úÖ 3D Scene Generation</p>
            <p>‚úÖ Modern UI/UX</p>
            <p>‚öôÔ∏è AI Features (Configure tokens for full functionality)</p>
        </div>
    </div>

    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <script>
        let scene, camera, renderer;
        
        function initThree() {
            const viewer = document.getElementById('viewer');
            
            // Scene
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x1a1a1a);
            
            // Camera
            camera = new THREE.PerspectiveCamera(75, viewer.offsetWidth / viewer.offsetHeight, 0.1, 1000);
            camera.position.set(5, 5, 5);
            camera.lookAt(0, 0, 0);
            
            // Renderer
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(viewer.offsetWidth, viewer.offsetHeight);
            renderer.shadowMap.enabled = true;
            renderer.shadowMap.type = THREE.PCFSoftShadowMap;
            
            viewer.innerHTML = '';
            viewer.appendChild(renderer.domElement);
            
            // Lighting
            const ambientLight = new THREE.AmbientLight(0x404040, 0.6);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(10, 10, 5);
            directionalLight.castShadow = true;
            scene.add(directionalLight);
            
            // Ground plane
            const planeGeometry = new THREE.PlaneGeometry(20, 20);
            const planeMaterial = new THREE.MeshLambertMaterial({ color: 0x555555 });
            const plane = new THREE.Mesh(planeGeometry, planeMaterial);
            plane.rotation.x = -Math.PI / 2;
            plane.receiveShadow = true;
            scene.add(plane);
            
            // Start render loop
            animate();
            
            updateStatus('‚úÖ Three.js initialized successfully!');
        }
        
        function animate() {
            requestAnimationFrame(animate);
            renderer.render(scene, camera);
        }
        
        function testGeneration() {
            const prompt = document.getElementById('prompt').value.trim();
            if (!prompt) {
                updateStatus('‚ùå Please enter a description');
                return;
            }
            
            updateStatus('üîÑ Generating 3D scene...');
            
            // Clear existing objects (except ground plane)
            const objectsToRemove = [];
            scene.traverse((child) => {
                if (child.isMesh && child.geometry.type !== 'PlaneGeometry') {
                    objectsToRemove.push(child);
                }
            });
            objectsToRemove.forEach(obj => scene.remove(obj));
            
            // Simple procedural generation
            setTimeout(() => {
                try {
                    const words = prompt.toLowerCase().split(' ');
                    
                    // Extract shapes and colors
                    const shapes = [];
                    const colors = [];
                    
                    if (words.includes('cube') || words.includes('box')) shapes.push('cube');
                    if (words.includes('sphere') || words.includes('ball')) shapes.push('sphere');
                    if (words.includes('cylinder') || words.includes('tube')) shapes.push('cylinder');
                    
                    if (words.includes('red')) colors.push(0xff0000);
                    if (words.includes('blue')) colors.push(0x0000ff);
                    if (words.includes('green')) colors.push(0x00ff00);
                    if (words.includes('yellow')) colors.push(0xffff00);
                    
                    // Default if nothing found
                    if (shapes.length === 0) shapes.push('cube');
                    if (colors.length === 0) colors.push(0x4a90e2);
                    
                    // Create objects
                    shapes.forEach((shape, index) => {
                        let geometry;
                        switch (shape) {
                            case 'sphere':
                                geometry = new THREE.SphereGeometry(1, 32, 32);
                                break;
                            case 'cylinder':
                                geometry = new THREE.CylinderGeometry(1, 1, 2, 32);
                                break;
                            default:
                                geometry = new THREE.BoxGeometry(2, 2, 2);
                        }
                        
                        const material = new THREE.MeshLambertMaterial({ 
                            color: colors[index] || colors[0] 
                        });
                        const mesh = new THREE.Mesh(geometry, material);
                        
                        mesh.position.set(
                            (index - shapes.length / 2) * 3,
                            1,
                            0
                        );
                        mesh.castShadow = true;
                        mesh.receiveShadow = true;
                        
                        scene.add(mesh);
                    });
                    
                    updateStatus(`‚úÖ Generated ${shapes.length} object(s) successfully!`);
                } catch (error) {
                    updateStatus(`‚ùå Generation failed: ${error.message}`);
                }
            }, 1000);
        }
        
        function updateStatus(message) {
            document.getElementById('status').textContent = message;
        }
        
        // Initialize when page loads
        window.addEventListener('load', initThree);
        
        // Handle window resize
        window.addEventListener('resize', () => {
            if (camera && renderer) {
                const viewer = document.getElementById('viewer');
                camera.aspect = viewer.offsetWidth / viewer.offsetHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(viewer.offsetWidth, viewer.offsetHeight);
            }
        });
    </script>
</body>
</html>
